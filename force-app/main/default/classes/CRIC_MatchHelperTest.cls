@IsTest
private class CRIC_MatchHelperTest {
	@TestSetup
	static void setup() {
		List<Cricket_Settings__c> configList = new List<Cricket_Settings__c>();

		Cricket_Settings__c host = new Cricket_Settings__c();
		host.name = 'CRIC_RAPID_API_HOST';
		host.value__c = 'dev132-cricket-live-scores-v1.p.rapidapi.com';
		configList.add(host);

		Cricket_Settings__c key = new Cricket_Settings__c();
		key.name = 'CRIC_RAPID_API_KEY';
		key.value__c = 'test1234keyhahaha';
		configList.add(key);

		Cricket_Settings__c url = new Cricket_Settings__c();
		url.name = 'CRIC_MATCHES_URL';
		url.value__c = 'http://test.com';
		configList.add(url);

		Cricket_Settings__c seriesId = new Cricket_Settings__c();
		seriesId.name = 'CRIC_SERIES_ID';
		seriesId.value__c = '2181';
		configList.add(seriesId);

		insert configList;
	}

	@IsTest
	static void shouldReturnNullWhenNoMatchToday() {
		// Given
		final String responseBody = '{"meta":{"upcomingMatchCount":10,"inProgressMatchCount":0,"completedMatchCount":5},"matchList":{"matches":[{"id":43659,"matchTypeId":0,"statisticsProvider":"Opta Sports","series":{"id":2181,"name":"ICC Mens ODI World Cup 2019","shortName":"ICC Mens Cricket World Cup 2019","shieldImageUrl":"https://www.cricket.com.au/-/media/Logos/Series/2019/series-CWC19.ashx"},"name":"Match 16","status":"COMPLETED","venue":{"name":"Bristol County Ground, Bristol","location":"","latitude":"","longitude":"","antisocialPhoneNumber":""},"homeTeam":{"isBatting":false,"id":10,"name":"Bangladesh Men","shortName":"BAN","logoUrl":"https://www.cricket.com.au/-/media/Logos/Teams/International/Bangladesh.ashx","backgroundImageUrl":"https://www.cricket.com.au/-/media/Logos/Teams/Team-Backgrounds/International/BAN.ashx","teamColour":"#006F55"},"awayTeam":{"isBatting":false,"id":7,"name":"Sri Lanka Men","shortName":"SL","logoUrl":"https://www.cricket.com.au/-/media/Logos/Teams/International/Sri%20Lanka.ashx","backgroundImageUrl":"https://www.cricket.com.au/-/media/Logos/Teams/Team-Backgrounds/International/SL.ashx","teamColour":"#082AA2"},"currentMatchState":"Match abandoned without a ball bowled","isMultiDay":false,"matchSummaryText":"Match abandoned without a ball bowled","scores":{"homeScore":"0-0","homeOvers":"0","awayScore":"0-0","awayOvers":"0"},"liveStreams":[],"isLive":false,"currentInningId":0,"isMatchDrawn":true,"isMatchAbandoned":false,"startDateTime":"2019-06-11T09:30:00Z","endDateTime":"2019-06-11T17:30:00Z","isWomensMatch":false,"cmsMatchType":"ODI","cmsMatchAssociatedType":"ODI","cmsMatchVenueStartDateTime":"","cmsMatchVenueEndDateTime":"","gamedayStatus":"","isGamedayEnabled":false,"removeMatch":false},{"id":43658,"matchTypeId":0,"statisticsProvider":"Opta Sports","series":{"id":2181,"name":"ICC Mens ODI World Cup 2019","shortName":"ICC Mens Cricket World Cup 2019","shieldImageUrl":"https://www.cricket.com.au/-/media/Logos/Series/2019/series-CWC19.ashx"},"name":"Match 15","status":"COMPLETED","venue":{"name":"The Rose Bowl, Southampton","location":"","latitude":"","longitude":"","antisocialPhoneNumber":""},"homeTeam":{"isBatting":true,"id":6,"name":"South Africa Men","shortName":"SA","logoUrl":"https://www.cricket.com.au/-/media/Logos/Teams/International/South-Africa.ashx","backgroundImageUrl":"https://www.cricket.com.au/-/media/Logos/Teams/Team-Backgrounds/International/SA.ashx","teamColour":"#00A057"},"awayTeam":{"isBatting":false,"id":8,"name":"West Indies Men","shortName":"WI","logoUrl":"https://www.cricket.com.au/-/media/Logos/Teams/International/West%20Indies.ashx","backgroundImageUrl":"https://www.cricket.com.au/-/media/Logos/Teams/Team-Backgrounds/International/WI.ashx","teamColour":"#7B0043"},"currentMatchState":"No Result","isMultiDay":false,"matchSummaryText":"No Result: SA 2-29","scores":{"homeScore":"2-29","homeOvers":"7.3","awayScore":"0-0","awayOvers":"0"},"liveStreams":[],"isLive":false,"currentInningId":1,"isMatchDrawn":true,"isMatchAbandoned":false,"startDateTime":"2019-06-10T09:30:00Z","endDateTime":"2019-06-10T17:30:00Z","isWomensMatch":false,"cmsMatchType":"ODI","cmsMatchAssociatedType":"ODI","cmsMatchVenueStartDateTime":"","cmsMatchVenueEndDateTime":"","gamedayStatus":"","isGamedayEnabled":false,"removeMatch":false},{"id":43657,"matchTypeId":0,"statisticsProvider":"Opta Sports","series":{"id":2181,"name":"ICC Mens ODI World Cup 2019","shortName":"ICC Mens Cricket World Cup 2019","shieldImageUrl":"https://www.cricket.com.au/-/media/Logos/Series/2019/series-CWC19.ashx"},"name":"Match 14","status":"COMPLETED","venue":{"name":"The Oval, London","location":"","latitude":"","longitude":"","antisocialPhoneNumber":""},"homeTeam":{"isBatting":false,"id":3,"name":"India Men","shortName":"IND","logoUrl":"https://www.cricket.com.au/-/media/Logos/Teams/International/India.ashx","backgroundImageUrl":"https://www.cricket.com.au/-/media/Logos/Teams/Team-Backgrounds/International/IND.ashx","teamColour":"#008CCC"},"awayTeam":{"isBatting":true,"id":1,"name":"Australia Men","shortName":"AUS","logoUrl":"https://www.cricket.com.au/-/media/Logos/Teams/International/Australia.ashx","backgroundImageUrl":"https://www.cricket.com.au/-/media/Logos/Teams/Team-Backgrounds/International/AUS.ashx","teamColour":"#0EAC00"},"currentMatchState":"India win by 36 runs","isMultiDay":false,"matchSummaryText":"India win by 36 runs","scores":{"homeScore":"5-352","homeOvers":"50.0","awayScore":"316","awayOvers":"50.0"},"liveStreams":[],"isLive":false,"currentInningId":2,"isMatchDrawn":false,"isMatchAbandoned":false,"winningTeamId":3,"startDateTime":"2019-06-09T09:30:00Z","endDateTime":"2019-06-09T17:30:00Z","isWomensMatch":false,"cmsMatchType":"ODI","cmsMatchAssociatedType":"ODI","cmsMatchVenueStartDateTime":"","cmsMatchVenueEndDateTime":"","gamedayStatus":"","isGamedayEnabled":false,"removeMatch":false},{"id":43656,"matchTypeId":0,"statisticsProvider":"Opta Sports","series":{"id":2181,"name":"ICC Mens ODI World Cup 2019","shortName":"ICC Mens Cricket World Cup 2019","shieldImageUrl":"https://www.cricket.com.au/-/media/Logos/Series/2019/series-CWC19.ashx"},"name":"Match 13","status":"COMPLETED","venue":{"name":"The County Ground, Taunton","location":"","latitude":"","longitude":"","antisocialPhoneNumber":""},"homeTeam":{"isBatting":false,"id":95,"name":"Afghanistan Men","shortName":"AFG","logoUrl":"https://www.cricket.com.au/-/media/Logos/Teams/International/Afghanistan.ashx","backgroundImageUrl":"https://www.cricket.com.au/-/media/AFG.ashx","teamColour":"#344DC3"},"awayTeam":{"isBatting":true,"id":4,"name":"New Zealand Men","shortName":"NZ","logoUrl":"https://www.cricket.com.au/-/media/Logos/Teams/International/New%20Zealand.ashx","backgroundImageUrl":"https://www.cricket.com.au/-/media/Logos/Teams/Team-Backgrounds/International/NZ2.ashx","teamColour":"#2A2A2A"},"currentMatchState":"New Zealand win by 7 wickets","isMultiDay":false,"matchSummaryText":"New Zealand win by 7 wickets","scores":{"homeScore":"172","homeOvers":"41.1","awayScore":"3-173","awayOvers":"32.1"},"liveStreams":[],"isLive":false,"currentInningId":2,"isMatchDrawn":false,"isMatchAbandoned":false,"winningTeamId":4,"startDateTime":"2019-06-08T12:30:00Z","endDateTime":"2019-06-08T20:30:00Z","isWomensMatch":false,"cmsMatchType":"ODI","cmsMatchAssociatedType":"ODI","cmsMatchVenueStartDateTime":"","cmsMatchVenueEndDateTime":"","gamedayStatus":"","isGamedayEnabled":false,"removeMatch":false},{"id":43655,"matchTypeId":0,"statisticsProvider":"Opta Sports","series":{"id":2181,"name":"ICC Mens ODI World Cup 2019","shortName":"ICC Mens Cricket World Cup 2019","shieldImageUrl":"https://www.cricket.com.au/-/media/Logos/Series/2019/series-CWC19.ashx"},"name":"Match 12","status":"COMPLETED","venue":{"name":"Sophia Gardens, Cardiff","location":"","latitude":"","longitude":"","antisocialPhoneNumber":""},"homeTeam":{"isBatting":false,"id":2,"name":"England Men","shortName":"ENG","logoUrl":"https://www.cricket.com.au/-/media/Logos/Teams/International/Team-England-2.ashx","backgroundImageUrl":"https://www.cricket.com.au/-/media/Logos/Teams/Team-Backgrounds/International/ENG2.ashx","teamColour":"#E1131B"},"awayTeam":{"isBatting":true,"id":10,"name":"Bangladesh Men","shortName":"BAN","logoUrl":"https://www.cricket.com.au/-/media/Logos/Teams/International/Bangladesh.ashx","backgroundImageUrl":"https://www.cricket.com.au/-/media/Logos/Teams/Team-Backgrounds/International/BAN.ashx","teamColour":"#006F55"},"currentMatchState":"England win by 106 runs","isMultiDay":false,"matchSummaryText":"England win by 106 runs","scores":{"homeScore":"6-386","homeOvers":"50.0","awayScore":"280","awayOvers":"48.5"},"liveStreams":[],"isLive":false,"currentInningId":2,"isMatchDrawn":false,"isMatchAbandoned":false,"winningTeamId":2,"startDateTime":"2019-06-08T09:30:00Z","endDateTime":"2019-06-08T17:30:00Z","isWomensMatch":false,"cmsMatchType":"ODI","cmsMatchAssociatedType":"ODI","cmsMatchVenueStartDateTime":"","cmsMatchVenueEndDateTime":"","gamedayStatus":"","isGamedayEnabled":false,"removeMatch":false},{"id":43661,"matchTypeId":0,"statisticsProvider":"Opta Sports","series":{"id":2181,"name":"ICC Mens ODI World Cup 2019","shortName":"ICC Mens Cricket World Cup 2019","shieldImageUrl":"https://www.cricket.com.au/-/media/Logos/Series/2019/series-CWC19.ashx"},"name":"Match 18","status":"UPCOMING","venue":{"name":"Trent Bridge, Nottingham","location":"","latitude":"","longitude":"","antisocialPhoneNumber":""},"homeTeam":{"isBatting":false,"id":3,"name":"India Men","shortName":"IND","logoUrl":"https://www.cricket.com.au/-/media/Logos/Teams/International/India.ashx","backgroundImageUrl":"https://www.cricket.com.au/-/media/Logos/Teams/Team-Backgrounds/International/IND.ashx","teamColour":"#008CCC"},"awayTeam":{"isBatting":false,"id":4,"name":"New Zealand Men","shortName":"NZ","logoUrl":"https://www.cricket.com.au/-/media/Logos/Teams/International/New%20Zealand.ashx","backgroundImageUrl":"https://www.cricket.com.au/-/media/Logos/Teams/Team-Backgrounds/International/NZ2.ashx","teamColour":"#2A2A2A"},"currentMatchState":"UPCOMING","isMultiDay":false,"matchSummaryText":"Teams will be announced at the toss","liveStreams":[],"isLive":false,"currentInningId":0,"isMatchDrawn":false,"isMatchAbandoned":false,"startDateTime":"2019-06-13T09:30:00Z","endDateTime":"2019-06-13T17:30:00Z","isWomensMatch":false,"cmsMatchType":"ODI","cmsMatchAssociatedType":"ODI","cmsMatchVenueStartDateTime":"","cmsMatchVenueEndDateTime":"","gamedayStatus":"","isGamedayEnabled":false,"removeMatch":false},{"id":43662,"matchTypeId":0,"statisticsProvider":"Opta Sports","series":{"id":2181,"name":"ICC Mens ODI World Cup 2019","shortName":"ICC Mens Cricket World Cup 2019","shieldImageUrl":"https://www.cricket.com.au/-/media/Logos/Series/2019/series-CWC19.ashx"},"name":"Match 19","status":"UPCOMING","venue":{"name":"The Rose Bowl, Southampton","location":"","latitude":"","longitude":"","antisocialPhoneNumber":""},"homeTeam":{"isBatting":false,"id":2,"name":"England Men","shortName":"ENG","logoUrl":"https://www.cricket.com.au/-/media/Logos/Teams/International/Team-England-2.ashx","backgroundImageUrl":"https://www.cricket.com.au/-/media/Logos/Teams/Team-Backgrounds/International/ENG2.ashx","teamColour":"#E1131B"},"awayTeam":{"isBatting":false,"id":8,"name":"West Indies Men","shortName":"WI","logoUrl":"https://www.cricket.com.au/-/media/Logos/Teams/International/West%20Indies.ashx","backgroundImageUrl":"https://www.cricket.com.au/-/media/Logos/Teams/Team-Backgrounds/International/WI.ashx","teamColour":"#7B0043"},"currentMatchState":"UPCOMING","isMultiDay":false,"matchSummaryText":"Teams will be announced at the toss","liveStreams":[],"isLive":false,"currentInningId":0,"isMatchDrawn":false,"isMatchAbandoned":false,"startDateTime":"2019-06-14T09:30:00Z","endDateTime":"2019-06-14T17:30:00Z","isWomensMatch":false,"cmsMatchType":"ODI","cmsMatchAssociatedType":"ODI","cmsMatchVenueStartDateTime":"","cmsMatchVenueEndDateTime":"","gamedayStatus":"","isGamedayEnabled":false,"removeMatch":false},{"id":43664,"matchTypeId":0,"statisticsProvider":"Opta Sports","series":{"id":2181,"name":"ICC Mens ODI World Cup 2019","shortName":"ICC Mens Cricket World Cup 2019","shieldImageUrl":"https://www.cricket.com.au/-/media/Logos/Series/2019/series-CWC19.ashx"},"name":"Match 20","status":"UPCOMING","venue":{"name":"The Oval, London","location":"","latitude":"","longitude":"","antisocialPhoneNumber":""},"homeTeam":{"isBatting":false,"id":7,"name":"Sri Lanka Men","shortName":"SL","logoUrl":"https://www.cricket.com.au/-/media/Logos/Teams/International/Sri%20Lanka.ashx","backgroundImageUrl":"https://www.cricket.com.au/-/media/Logos/Teams/Team-Backgrounds/International/SL.ashx","teamColour":"#082AA2"},"awayTeam":{"isBatting":false,"id":1,"name":"Australia Men","shortName":"AUS","logoUrl":"https://www.cricket.com.au/-/media/Logos/Teams/International/Australia.ashx","backgroundImageUrl":"https://www.cricket.com.au/-/media/Logos/Teams/Team-Backgrounds/International/AUS.ashx","teamColour":"#0EAC00"},"currentMatchState":"UPCOMING","isMultiDay":false,"matchSummaryText":"","liveStreams":[],"isLive":false,"currentInningId":0,"isMatchDrawn":false,"isMatchAbandoned":false,"startDateTime":"2019-06-15T09:30:00Z","endDateTime":"2019-06-15T17:30:00Z","isWomensMatch":false,"cmsMatchType":"ODI","cmsMatchAssociatedType":"ODI","cmsMatchVenueStartDateTime":"","cmsMatchVenueEndDateTime":"","gamedayStatus":"","isGamedayEnabled":false,"removeMatch":false},{"id":43663,"matchTypeId":0,"statisticsProvider":"Opta Sports","series":{"id":2181,"name":"ICC Mens ODI World Cup 2019","shortName":"ICC Mens Cricket World Cup 2019","shieldImageUrl":"https://www.cricket.com.au/-/media/Logos/Series/2019/series-CWC19.ashx"},"name":"Match 21","status":"UPCOMING","venue":{"name":"Sophia Gardens, Cardiff","location":"","latitude":"","longitude":"","antisocialPhoneNumber":""},"homeTeam":{"isBatting":false,"id":6,"name":"South Africa Men","shortName":"SA","logoUrl":"https://www.cricket.com.au/-/media/Logos/Teams/International/South-Africa.ashx","backgroundImageUrl":"https://www.cricket.com.au/-/media/Logos/Teams/Team-Backgrounds/International/SA.ashx","teamColour":"#00A057"},"awayTeam":{"isBatting":false,"id":95,"name":"Afghanistan Men","shortName":"AFG","logoUrl":"https://www.cricket.com.au/-/media/Logos/Teams/International/Afghanistan.ashx","backgroundImageUrl":"https://www.cricket.com.au/-/media/AFG.ashx","teamColour":"#344DC3"},"currentMatchState":"UPCOMING","isMultiDay":false,"matchSummaryText":"","liveStreams":[],"isLive":false,"currentInningId":0,"isMatchDrawn":false,"isMatchAbandoned":false,"startDateTime":"2019-06-15T12:30:00Z","endDateTime":"2019-06-15T20:30:00Z","isWomensMatch":false,"cmsMatchType":"ODI","cmsMatchAssociatedType":"ODI","cmsMatchVenueStartDateTime":"","cmsMatchVenueEndDateTime":"","gamedayStatus":"","isGamedayEnabled":false,"removeMatch":false},{"id":43665,"matchTypeId":0,"statisticsProvider":"Opta Sports","series":{"id":2181,"name":"ICC Mens ODI World Cup 2019","shortName":"ICC Mens Cricket World Cup 2019","shieldImageUrl":"https://www.cricket.com.au/-/media/Logos/Series/2019/series-CWC19.ashx"},"name":"Match 22","status":"UPCOMING","venue":{"name":"Old Trafford, Manchester","location":"","latitude":"","longitude":"","antisocialPhoneNumber":""},"homeTeam":{"isBatting":false,"id":3,"name":"India Men","shortName":"IND","logoUrl":"https://www.cricket.com.au/-/media/Logos/Teams/International/India.ashx","backgroundImageUrl":"https://www.cricket.com.au/-/media/Logos/Teams/Team-Backgrounds/International/IND.ashx","teamColour":"#008CCC"},"awayTeam":{"isBatting":false,"id":5,"name":"Pakistan Men","shortName":"PAK","logoUrl":"https://www.cricket.com.au/-/media/Logos/Teams/International/Team-Pakistan.ashx","backgroundImageUrl":"https://www.cricket.com.au/-/media/Logos/Teams/Team-Backgrounds/International/PAK.ashx","teamColour":"#004E00"},"currentMatchState":"UPCOMING","isMultiDay":false,"matchSummaryText":"","liveStreams":[],"isLive":false,"currentInningId":0,"isMatchDrawn":false,"isMatchAbandoned":false,"startDateTime":"2019-06-16T09:30:00Z","endDateTime":"2019-06-16T17:30:00Z","isWomensMatch":false,"cmsMatchType":"ODI","cmsMatchAssociatedType":"ODI","cmsMatchVenueStartDateTime":"","cmsMatchVenueEndDateTime":"","gamedayStatus":"","isGamedayEnabled":false,"removeMatch":false},{"id":43666,"matchTypeId":0,"statisticsProvider":"Opta Sports","series":{"id":2181,"name":"ICC Mens ODI World Cup 2019","shortName":"ICC Mens Cricket World Cup 2019","shieldImageUrl":"https://www.cricket.com.au/-/media/Logos/Series/2019/series-CWC19.ashx"},"name":"Match 23","status":"UPCOMING","venue":{"name":"The County Ground, Taunton","location":"","latitude":"","longitude":"","antisocialPhoneNumber":""},"homeTeam":{"isBatting":false,"id":8,"name":"West Indies Men","shortName":"WI","logoUrl":"https://www.cricket.com.au/-/media/Logos/Teams/International/West%20Indies.ashx","backgroundImageUrl":"https://www.cricket.com.au/-/media/Logos/Teams/Team-Backgrounds/International/WI.ashx","teamColour":"#7B0043"},"awayTeam":{"isBatting":false,"id":10,"name":"Bangladesh Men","shortName":"BAN","logoUrl":"https://www.cricket.com.au/-/media/Logos/Teams/International/Bangladesh.ashx","backgroundImageUrl":"https://www.cricket.com.au/-/media/Logos/Teams/Team-Backgrounds/International/BAN.ashx","teamColour":"#006F55"},"currentMatchState":"UPCOMING","isMultiDay":false,"matchSummaryText":"","liveStreams":[],"isLive":false,"currentInningId":0,"isMatchDrawn":false,"isMatchAbandoned":false,"startDateTime":"2019-06-17T09:30:00Z","endDateTime":"2019-06-17T17:30:00Z","isWomensMatch":false,"cmsMatchType":"ODI","cmsMatchAssociatedType":"ODI","cmsMatchVenueStartDateTime":"","cmsMatchVenueEndDateTime":"","gamedayStatus":"","isGamedayEnabled":false,"removeMatch":false},{"id":43667,"matchTypeId":0,"statisticsProvider":"Opta Sports","series":{"id":2181,"name":"ICC Mens ODI World Cup 2019","shortName":"ICC Mens Cricket World Cup 2019","shieldImageUrl":"https://www.cricket.com.au/-/media/Logos/Series/2019/series-CWC19.ashx"},"name":"Match 24","status":"UPCOMING","venue":{"name":"The County Ground, Taunton","location":"","latitude":"","longitude":"","antisocialPhoneNumber":""},"homeTeam":{"isBatting":false,"id":2,"name":"England Men","shortName":"ENG","logoUrl":"https://www.cricket.com.au/-/media/Logos/Teams/International/Team-England-2.ashx","backgroundImageUrl":"https://www.cricket.com.au/-/media/Logos/Teams/Team-Backgrounds/International/ENG2.ashx","teamColour":"#E1131B"},"awayTeam":{"isBatting":false,"id":95,"name":"Afghanistan Men","shortName":"AFG","logoUrl":"https://www.cricket.com.au/-/media/Logos/Teams/International/Afghanistan.ashx","backgroundImageUrl":"https://www.cricket.com.au/-/media/AFG.ashx","teamColour":"#344DC3"},"currentMatchState":"UPCOMING","isMultiDay":false,"matchSummaryText":"","liveStreams":[],"isLive":false,"currentInningId":0,"isMatchDrawn":false,"isMatchAbandoned":false,"startDateTime":"2019-06-18T09:30:00Z","endDateTime":"2019-06-18T17:30:00Z","isWomensMatch":false,"cmsMatchType":"ODI","cmsMatchAssociatedType":"ODI","cmsMatchVenueStartDateTime":"","cmsMatchVenueEndDateTime":"","gamedayStatus":"","isGamedayEnabled":false,"removeMatch":false},{"id":43668,"matchTypeId":0,"statisticsProvider":"Opta Sports","series":{"id":2181,"name":"ICC Mens ODI World Cup 2019","shortName":"ICC Mens Cricket World Cup 2019","shieldImageUrl":"https://www.cricket.com.au/-/media/Logos/Series/2019/series-CWC19.ashx"},"name":"Match 25","status":"UPCOMING","venue":{"name":"Edgbaston, Birmingham","location":"","latitude":"","longitude":"","antisocialPhoneNumber":""},"homeTeam":{"isBatting":false,"id":4,"name":"New Zealand Men","shortName":"NZ","logoUrl":"https://www.cricket.com.au/-/media/Logos/Teams/International/New%20Zealand.ashx","backgroundImageUrl":"https://www.cricket.com.au/-/media/Logos/Teams/Team-Backgrounds/International/NZ2.ashx","teamColour":"#2A2A2A"},"awayTeam":{"isBatting":false,"id":6,"name":"South Africa Men","shortName":"SA","logoUrl":"https://www.cricket.com.au/-/media/Logos/Teams/International/South-Africa.ashx","backgroundImageUrl":"https://www.cricket.com.au/-/media/Logos/Teams/Team-Backgrounds/International/SA.ashx","teamColour":"#00A057"},"currentMatchState":"UPCOMING","isMultiDay":false,"matchSummaryText":"","liveStreams":[],"isLive":false,"currentInningId":0,"isMatchDrawn":false,"isMatchAbandoned":false,"startDateTime":"2019-06-19T09:30:00Z","endDateTime":"2019-06-19T17:30:00Z","isWomensMatch":false,"cmsMatchType":"ODI","cmsMatchAssociatedType":"ODI","cmsMatchVenueStartDateTime":"","cmsMatchVenueEndDateTime":"","gamedayStatus":"","isGamedayEnabled":false,"removeMatch":false},{"id":43669,"matchTypeId":0,"statisticsProvider":"Opta Sports","series":{"id":2181,"name":"ICC Mens ODI World Cup 2019","shortName":"ICC Mens Cricket World Cup 2019","shieldImageUrl":"https://www.cricket.com.au/-/media/Logos/Series/2019/series-CWC19.ashx"},"name":"Match 26","status":"UPCOMING","venue":{"name":"Trent Bridge, Nottingham","location":"","latitude":"","longitude":"","antisocialPhoneNumber":""},"homeTeam":{"isBatting":false,"id":1,"name":"Australia Men","shortName":"AUS","logoUrl":"https://www.cricket.com.au/-/media/Logos/Teams/International/Australia.ashx","backgroundImageUrl":"https://www.cricket.com.au/-/media/Logos/Teams/Team-Backgrounds/International/AUS.ashx","teamColour":"#0EAC00"},"awayTeam":{"isBatting":false,"id":10,"name":"Bangladesh Men","shortName":"BAN","logoUrl":"https://www.cricket.com.au/-/media/Logos/Teams/International/Bangladesh.ashx","backgroundImageUrl":"https://www.cricket.com.au/-/media/Logos/Teams/Team-Backgrounds/International/BAN.ashx","teamColour":"#006F55"},"currentMatchState":"UPCOMING","isMultiDay":false,"matchSummaryText":"","liveStreams":[],"isLive":false,"currentInningId":0,"isMatchDrawn":false,"isMatchAbandoned":false,"startDateTime":"2019-06-20T09:30:00Z","endDateTime":"2019-06-20T17:30:00Z","isWomensMatch":false,"cmsMatchType":"ODI","cmsMatchAssociatedType":"ODI","cmsMatchVenueStartDateTime":"","cmsMatchVenueEndDateTime":"","gamedayStatus":"","isGamedayEnabled":false,"removeMatch":false},{"id":44649,"matchTypeId":0,"statisticsProvider":"Opta Sports","series":{"id":2292,"name":"Australia A Tour of England - Mens","shortName":"Australia A in England 2019 Tour Matches","shieldImageUrl":"https://www.cricket.com.au/-/media/Logos/Series/2015/Series-Generic-International-new.ashx"},"name":"","status":"UPCOMING","venue":{"name":"The County Ground, Northampton","location":"","latitude":"","longitude":"","antisocialPhoneNumber":""},"homeTeam":{"isBatting":false,"id":53,"name":"Northamptonshire","shortName":"NOR","logoUrl":"https://www.cricket.com.au/-/media/Logos/Teams/Other/northants.ashx","teamColour":"#880139"},"awayTeam":{"isBatting":false,"id":156,"name":"Australia A Men","shortName":"AUS","logoUrl":"https://www.cricket.com.au/-/media/Logos/Teams/International/Australia.ashx","backgroundImageUrl":"https://www.cricket.com.au/-/media/Logos/Teams/Team-Backgrounds/International/australia.ashx","teamColour":"#0EAC00"},"currentMatchState":"UPCOMING","isMultiDay":false,"matchSummaryText":"","liveStreams":[],"isLive":false,"currentInningId":0,"isMatchDrawn":false,"isMatchAbandoned":false,"startDateTime":"2019-06-20T12:00:00Z","endDateTime":"2019-06-20T20:00:00Z","isWomensMatch":false,"cmsMatchType":"One-Day","cmsMatchAssociatedType":"ODI","cmsMatchVenueStartDateTime":"","cmsMatchVenueEndDateTime":"","gamedayStatus":"","isGamedayEnabled":false,"removeMatch":false}]},"status":200,"poweredBy":"dev132"}';
		final Map<String, String> responseHeaders = new Map<String, String>();
		responseHeaders.put('Content-Type', 'application/json');
		CRIC_HttpCalloutMock mock = new CRIC_HttpCalloutMock(
			'GET',
			200,
			'OK',
			responseBody,
			responseHeaders
		);

		Test.startTest();
		Test.setMock(HttpCalloutMock.class, mock);
		// When
		Date twelfthJune = Date.newInstance(2019, 6, 12);
		List<String> matchIds = CRIC_MatchHelper.getMatchIds(twelfthJune);
		Test.stopTest();
		// Then
		System.assert(
			matchIds.isEmpty(),
			'there should not be any matches listed today'
		);
	}

	@IsTest
	static void shouldReturnMatchIdWhenThereIsAMatchToday() {
		// Given
		final String responseBody = '{"meta":{"upcomingMatchCount":10,"inProgressMatchCount":1,"completedMatchCount":5},"matchList":{"matches":[{"id":43660,"matchTypeId":0,"statisticsProvider":"Opta Sports","series":{"id":2181,"name":"ICC Mens ODI World Cup 2019","shortName":"ICC Mens Cricket World Cup 2019","shieldImageUrl":"https://www.cricket.com.au/-/media/Logos/Series/2019/series-CWC19.ashx"},"name":"Match 17","status":"LIVE","venue":{"name":"The County Ground, Taunton","location":"","latitude":"","longitude":"","antisocialPhoneNumber":""},"homeTeam":{"isBatting":false,"id":1,"name":"Australia Men","shortName":"AUS","logoUrl":"https://www.cricket.com.au/-/media/Logos/Teams/International/Australia.ashx","backgroundImageUrl":"https://www.cricket.com.au/-/media/Logos/Teams/Team-Backgrounds/International/AUS.ashx","teamColour":"#0EAC00"},"awayTeam":{"isBatting":true,"id":5,"name":"Pakistan Men","shortName":"PAK","logoUrl":"https://www.cricket.com.au/-/media/Logos/Teams/International/Team-Pakistan.ashx","backgroundImageUrl":"https://www.cricket.com.au/-/media/Logos/Teams/Team-Backgrounds/International/PAK.ashx","teamColour":"#004E00"},"currentMatchState":"Live","isMultiDay":false,"matchSummaryText":"Live: PAK need 308 runs off 300 balls","scores":{"homeScore":"307","homeOvers":"49.0","awayScore":"0-0","awayOvers":"0.0"},"liveStreams":[],"isLive":false,"currentInningId":2,"isMatchDrawn":false,"isMatchAbandoned":false,"startDateTime":"2019-06-12T09:30:00Z","endDateTime":"2019-06-12T17:30:00Z","isWomensMatch":false,"cmsMatchType":"ODI","cmsMatchAssociatedType":"ODI","cmsMatchVenueStartDateTime":"","cmsMatchVenueEndDateTime":"","gamedayStatus":"","isGamedayEnabled":false,"removeMatch":false},{"id":43659,"matchTypeId":0,"statisticsProvider":"Opta Sports","series":{"id":2181,"name":"ICC Mens ODI World Cup 2019","shortName":"ICC Mens Cricket World Cup 2019","shieldImageUrl":"https://www.cricket.com.au/-/media/Logos/Series/2019/series-CWC19.ashx"},"name":"Match 16","status":"COMPLETED","venue":{"name":"Bristol County Ground, Bristol","location":"","latitude":"","longitude":"","antisocialPhoneNumber":""},"homeTeam":{"isBatting":false,"id":10,"name":"Bangladesh Men","shortName":"BAN","logoUrl":"https://www.cricket.com.au/-/media/Logos/Teams/International/Bangladesh.ashx","backgroundImageUrl":"https://www.cricket.com.au/-/media/Logos/Teams/Team-Backgrounds/International/BAN.ashx","teamColour":"#006F55"},"awayTeam":{"isBatting":false,"id":7,"name":"Sri Lanka Men","shortName":"SL","logoUrl":"https://www.cricket.com.au/-/media/Logos/Teams/International/Sri%20Lanka.ashx","backgroundImageUrl":"https://www.cricket.com.au/-/media/Logos/Teams/Team-Backgrounds/International/SL.ashx","teamColour":"#082AA2"},"currentMatchState":"Match abandoned without a ball bowled","isMultiDay":false,"matchSummaryText":"Match abandoned without a ball bowled","scores":{"homeScore":"0-0","homeOvers":"0","awayScore":"0-0","awayOvers":"0"},"liveStreams":[],"isLive":false,"currentInningId":0,"isMatchDrawn":true,"isMatchAbandoned":false,"startDateTime":"2019-06-11T09:30:00Z","endDateTime":"2019-06-11T17:30:00Z","isWomensMatch":false,"cmsMatchType":"ODI","cmsMatchAssociatedType":"ODI","cmsMatchVenueStartDateTime":"","cmsMatchVenueEndDateTime":"","gamedayStatus":"","isGamedayEnabled":false,"removeMatch":false},{"id":43658,"matchTypeId":0,"statisticsProvider":"Opta Sports","series":{"id":2181,"name":"ICC Mens ODI World Cup 2019","shortName":"ICC Mens Cricket World Cup 2019","shieldImageUrl":"https://www.cricket.com.au/-/media/Logos/Series/2019/series-CWC19.ashx"},"name":"Match 15","status":"COMPLETED","venue":{"name":"The Rose Bowl, Southampton","location":"","latitude":"","longitude":"","antisocialPhoneNumber":""},"homeTeam":{"isBatting":true,"id":6,"name":"South Africa Men","shortName":"SA","logoUrl":"https://www.cricket.com.au/-/media/Logos/Teams/International/South-Africa.ashx","backgroundImageUrl":"https://www.cricket.com.au/-/media/Logos/Teams/Team-Backgrounds/International/SA.ashx","teamColour":"#00A057"},"awayTeam":{"isBatting":false,"id":8,"name":"West Indies Men","shortName":"WI","logoUrl":"https://www.cricket.com.au/-/media/Logos/Teams/International/West%20Indies.ashx","backgroundImageUrl":"https://www.cricket.com.au/-/media/Logos/Teams/Team-Backgrounds/International/WI.ashx","teamColour":"#7B0043"},"currentMatchState":"No Result","isMultiDay":false,"matchSummaryText":"No Result: SA 2-29","scores":{"homeScore":"2-29","homeOvers":"7.3","awayScore":"0-0","awayOvers":"0"},"liveStreams":[],"isLive":false,"currentInningId":1,"isMatchDrawn":true,"isMatchAbandoned":false,"startDateTime":"2019-06-10T09:30:00Z","endDateTime":"2019-06-10T17:30:00Z","isWomensMatch":false,"cmsMatchType":"ODI","cmsMatchAssociatedType":"ODI","cmsMatchVenueStartDateTime":"","cmsMatchVenueEndDateTime":"","gamedayStatus":"","isGamedayEnabled":false,"removeMatch":false},{"id":43657,"matchTypeId":0,"statisticsProvider":"Opta Sports","series":{"id":2181,"name":"ICC Mens ODI World Cup 2019","shortName":"ICC Mens Cricket World Cup 2019","shieldImageUrl":"https://www.cricket.com.au/-/media/Logos/Series/2019/series-CWC19.ashx"},"name":"Match 14","status":"COMPLETED","venue":{"name":"The Oval, London","location":"","latitude":"","longitude":"","antisocialPhoneNumber":""},"homeTeam":{"isBatting":false,"id":3,"name":"India Men","shortName":"IND","logoUrl":"https://www.cricket.com.au/-/media/Logos/Teams/International/India.ashx","backgroundImageUrl":"https://www.cricket.com.au/-/media/Logos/Teams/Team-Backgrounds/International/IND.ashx","teamColour":"#008CCC"},"awayTeam":{"isBatting":true,"id":1,"name":"Australia Men","shortName":"AUS","logoUrl":"https://www.cricket.com.au/-/media/Logos/Teams/International/Australia.ashx","backgroundImageUrl":"https://www.cricket.com.au/-/media/Logos/Teams/Team-Backgrounds/International/AUS.ashx","teamColour":"#0EAC00"},"currentMatchState":"India win by 36 runs","isMultiDay":false,"matchSummaryText":"India win by 36 runs","scores":{"homeScore":"5-352","homeOvers":"50.0","awayScore":"316","awayOvers":"50.0"},"liveStreams":[],"isLive":false,"currentInningId":2,"isMatchDrawn":false,"isMatchAbandoned":false,"winningTeamId":3,"startDateTime":"2019-06-09T09:30:00Z","endDateTime":"2019-06-09T17:30:00Z","isWomensMatch":false,"cmsMatchType":"ODI","cmsMatchAssociatedType":"ODI","cmsMatchVenueStartDateTime":"","cmsMatchVenueEndDateTime":"","gamedayStatus":"","isGamedayEnabled":false,"removeMatch":false},{"id":43656,"matchTypeId":0,"statisticsProvider":"Opta Sports","series":{"id":2181,"name":"ICC Mens ODI World Cup 2019","shortName":"ICC Mens Cricket World Cup 2019","shieldImageUrl":"https://www.cricket.com.au/-/media/Logos/Series/2019/series-CWC19.ashx"},"name":"Match 13","status":"COMPLETED","venue":{"name":"The County Ground, Taunton","location":"","latitude":"","longitude":"","antisocialPhoneNumber":""},"homeTeam":{"isBatting":false,"id":95,"name":"Afghanistan Men","shortName":"AFG","logoUrl":"https://www.cricket.com.au/-/media/Logos/Teams/International/Afghanistan.ashx","backgroundImageUrl":"https://www.cricket.com.au/-/media/AFG.ashx","teamColour":"#344DC3"},"awayTeam":{"isBatting":true,"id":4,"name":"New Zealand Men","shortName":"NZ","logoUrl":"https://www.cricket.com.au/-/media/Logos/Teams/International/New%20Zealand.ashx","backgroundImageUrl":"https://www.cricket.com.au/-/media/Logos/Teams/Team-Backgrounds/International/NZ2.ashx","teamColour":"#2A2A2A"},"currentMatchState":"New Zealand win by 7 wickets","isMultiDay":false,"matchSummaryText":"New Zealand win by 7 wickets","scores":{"homeScore":"172","homeOvers":"41.1","awayScore":"3-173","awayOvers":"32.1"},"liveStreams":[],"isLive":false,"currentInningId":2,"isMatchDrawn":false,"isMatchAbandoned":false,"winningTeamId":4,"startDateTime":"2019-06-08T12:30:00Z","endDateTime":"2019-06-08T20:30:00Z","isWomensMatch":false,"cmsMatchType":"ODI","cmsMatchAssociatedType":"ODI","cmsMatchVenueStartDateTime":"","cmsMatchVenueEndDateTime":"","gamedayStatus":"","isGamedayEnabled":false,"removeMatch":false},{"id":43655,"matchTypeId":0,"statisticsProvider":"Opta Sports","series":{"id":2181,"name":"ICC Mens ODI World Cup 2019","shortName":"ICC Mens Cricket World Cup 2019","shieldImageUrl":"https://www.cricket.com.au/-/media/Logos/Series/2019/series-CWC19.ashx"},"name":"Match 12","status":"COMPLETED","venue":{"name":"Sophia Gardens, Cardiff","location":"","latitude":"","longitude":"","antisocialPhoneNumber":""},"homeTeam":{"isBatting":false,"id":2,"name":"England Men","shortName":"ENG","logoUrl":"https://www.cricket.com.au/-/media/Logos/Teams/International/Team-England-2.ashx","backgroundImageUrl":"https://www.cricket.com.au/-/media/Logos/Teams/Team-Backgrounds/International/ENG2.ashx","teamColour":"#E1131B"},"awayTeam":{"isBatting":true,"id":10,"name":"Bangladesh Men","shortName":"BAN","logoUrl":"https://www.cricket.com.au/-/media/Logos/Teams/International/Bangladesh.ashx","backgroundImageUrl":"https://www.cricket.com.au/-/media/Logos/Teams/Team-Backgrounds/International/BAN.ashx","teamColour":"#006F55"},"currentMatchState":"England win by 106 runs","isMultiDay":false,"matchSummaryText":"England win by 106 runs","scores":{"homeScore":"6-386","homeOvers":"50.0","awayScore":"280","awayOvers":"48.5"},"liveStreams":[],"isLive":false,"currentInningId":2,"isMatchDrawn":false,"isMatchAbandoned":false,"winningTeamId":2,"startDateTime":"2019-06-08T09:30:00Z","endDateTime":"2019-06-08T17:30:00Z","isWomensMatch":false,"cmsMatchType":"ODI","cmsMatchAssociatedType":"ODI","cmsMatchVenueStartDateTime":"","cmsMatchVenueEndDateTime":"","gamedayStatus":"","isGamedayEnabled":false,"removeMatch":false},{"id":43661,"matchTypeId":0,"statisticsProvider":"Opta Sports","series":{"id":2181,"name":"ICC Mens ODI World Cup 2019","shortName":"ICC Mens Cricket World Cup 2019","shieldImageUrl":"https://www.cricket.com.au/-/media/Logos/Series/2019/series-CWC19.ashx"},"name":"Match 18","status":"UPCOMING","venue":{"name":"Trent Bridge, Nottingham","location":"","latitude":"","longitude":"","antisocialPhoneNumber":""},"homeTeam":{"isBatting":false,"id":3,"name":"India Men","shortName":"IND","logoUrl":"https://www.cricket.com.au/-/media/Logos/Teams/International/India.ashx","backgroundImageUrl":"https://www.cricket.com.au/-/media/Logos/Teams/Team-Backgrounds/International/IND.ashx","teamColour":"#008CCC"},"awayTeam":{"isBatting":false,"id":4,"name":"New Zealand Men","shortName":"NZ","logoUrl":"https://www.cricket.com.au/-/media/Logos/Teams/International/New%20Zealand.ashx","backgroundImageUrl":"https://www.cricket.com.au/-/media/Logos/Teams/Team-Backgrounds/International/NZ2.ashx","teamColour":"#2A2A2A"},"currentMatchState":"UPCOMING","isMultiDay":false,"matchSummaryText":"Teams will be announced at the toss","liveStreams":[],"isLive":false,"currentInningId":0,"isMatchDrawn":false,"isMatchAbandoned":false,"startDateTime":"2019-06-13T09:30:00Z","endDateTime":"2019-06-13T17:30:00Z","isWomensMatch":false,"cmsMatchType":"ODI","cmsMatchAssociatedType":"ODI","cmsMatchVenueStartDateTime":"","cmsMatchVenueEndDateTime":"","gamedayStatus":"","isGamedayEnabled":false,"removeMatch":false},{"id":43662,"matchTypeId":0,"statisticsProvider":"Opta Sports","series":{"id":2181,"name":"ICC Mens ODI World Cup 2019","shortName":"ICC Mens Cricket World Cup 2019","shieldImageUrl":"https://www.cricket.com.au/-/media/Logos/Series/2019/series-CWC19.ashx"},"name":"Match 19","status":"UPCOMING","venue":{"name":"The Rose Bowl, Southampton","location":"","latitude":"","longitude":"","antisocialPhoneNumber":""},"homeTeam":{"isBatting":false,"id":2,"name":"England Men","shortName":"ENG","logoUrl":"https://www.cricket.com.au/-/media/Logos/Teams/International/Team-England-2.ashx","backgroundImageUrl":"https://www.cricket.com.au/-/media/Logos/Teams/Team-Backgrounds/International/ENG2.ashx","teamColour":"#E1131B"},"awayTeam":{"isBatting":false,"id":8,"name":"West Indies Men","shortName":"WI","logoUrl":"https://www.cricket.com.au/-/media/Logos/Teams/International/West%20Indies.ashx","backgroundImageUrl":"https://www.cricket.com.au/-/media/Logos/Teams/Team-Backgrounds/International/WI.ashx","teamColour":"#7B0043"},"currentMatchState":"UPCOMING","isMultiDay":false,"matchSummaryText":"Teams will be announced at the toss","liveStreams":[],"isLive":false,"currentInningId":0,"isMatchDrawn":false,"isMatchAbandoned":false,"startDateTime":"2019-06-14T09:30:00Z","endDateTime":"2019-06-14T17:30:00Z","isWomensMatch":false,"cmsMatchType":"ODI","cmsMatchAssociatedType":"ODI","cmsMatchVenueStartDateTime":"","cmsMatchVenueEndDateTime":"","gamedayStatus":"","isGamedayEnabled":false,"removeMatch":false},{"id":43664,"matchTypeId":0,"statisticsProvider":"Opta Sports","series":{"id":2181,"name":"ICC Mens ODI World Cup 2019","shortName":"ICC Mens Cricket World Cup 2019","shieldImageUrl":"https://www.cricket.com.au/-/media/Logos/Series/2019/series-CWC19.ashx"},"name":"Match 20","status":"UPCOMING","venue":{"name":"The Oval, London","location":"","latitude":"","longitude":"","antisocialPhoneNumber":""},"homeTeam":{"isBatting":false,"id":7,"name":"Sri Lanka Men","shortName":"SL","logoUrl":"https://www.cricket.com.au/-/media/Logos/Teams/International/Sri%20Lanka.ashx","backgroundImageUrl":"https://www.cricket.com.au/-/media/Logos/Teams/Team-Backgrounds/International/SL.ashx","teamColour":"#082AA2"},"awayTeam":{"isBatting":false,"id":1,"name":"Australia Men","shortName":"AUS","logoUrl":"https://www.cricket.com.au/-/media/Logos/Teams/International/Australia.ashx","backgroundImageUrl":"https://www.cricket.com.au/-/media/Logos/Teams/Team-Backgrounds/International/AUS.ashx","teamColour":"#0EAC00"},"currentMatchState":"UPCOMING","isMultiDay":false,"matchSummaryText":"","liveStreams":[],"isLive":false,"currentInningId":0,"isMatchDrawn":false,"isMatchAbandoned":false,"startDateTime":"2019-06-15T09:30:00Z","endDateTime":"2019-06-15T17:30:00Z","isWomensMatch":false,"cmsMatchType":"ODI","cmsMatchAssociatedType":"ODI","cmsMatchVenueStartDateTime":"","cmsMatchVenueEndDateTime":"","gamedayStatus":"","isGamedayEnabled":false,"removeMatch":false},{"id":43663,"matchTypeId":0,"statisticsProvider":"Opta Sports","series":{"id":2181,"name":"ICC Mens ODI World Cup 2019","shortName":"ICC Mens Cricket World Cup 2019","shieldImageUrl":"https://www.cricket.com.au/-/media/Logos/Series/2019/series-CWC19.ashx"},"name":"Match 21","status":"UPCOMING","venue":{"name":"Sophia Gardens, Cardiff","location":"","latitude":"","longitude":"","antisocialPhoneNumber":""},"homeTeam":{"isBatting":false,"id":6,"name":"South Africa Men","shortName":"SA","logoUrl":"https://www.cricket.com.au/-/media/Logos/Teams/International/South-Africa.ashx","backgroundImageUrl":"https://www.cricket.com.au/-/media/Logos/Teams/Team-Backgrounds/International/SA.ashx","teamColour":"#00A057"},"awayTeam":{"isBatting":false,"id":95,"name":"Afghanistan Men","shortName":"AFG","logoUrl":"https://www.cricket.com.au/-/media/Logos/Teams/International/Afghanistan.ashx","backgroundImageUrl":"https://www.cricket.com.au/-/media/AFG.ashx","teamColour":"#344DC3"},"currentMatchState":"UPCOMING","isMultiDay":false,"matchSummaryText":"","liveStreams":[],"isLive":false,"currentInningId":0,"isMatchDrawn":false,"isMatchAbandoned":false,"startDateTime":"2019-06-15T12:30:00Z","endDateTime":"2019-06-15T20:30:00Z","isWomensMatch":false,"cmsMatchType":"ODI","cmsMatchAssociatedType":"ODI","cmsMatchVenueStartDateTime":"","cmsMatchVenueEndDateTime":"","gamedayStatus":"","isGamedayEnabled":false,"removeMatch":false},{"id":43665,"matchTypeId":0,"statisticsProvider":"Opta Sports","series":{"id":2181,"name":"ICC Mens ODI World Cup 2019","shortName":"ICC Mens Cricket World Cup 2019","shieldImageUrl":"https://www.cricket.com.au/-/media/Logos/Series/2019/series-CWC19.ashx"},"name":"Match 22","status":"UPCOMING","venue":{"name":"Old Trafford, Manchester","location":"","latitude":"","longitude":"","antisocialPhoneNumber":""},"homeTeam":{"isBatting":false,"id":3,"name":"India Men","shortName":"IND","logoUrl":"https://www.cricket.com.au/-/media/Logos/Teams/International/India.ashx","backgroundImageUrl":"https://www.cricket.com.au/-/media/Logos/Teams/Team-Backgrounds/International/IND.ashx","teamColour":"#008CCC"},"awayTeam":{"isBatting":false,"id":5,"name":"Pakistan Men","shortName":"PAK","logoUrl":"https://www.cricket.com.au/-/media/Logos/Teams/International/Team-Pakistan.ashx","backgroundImageUrl":"https://www.cricket.com.au/-/media/Logos/Teams/Team-Backgrounds/International/PAK.ashx","teamColour":"#004E00"},"currentMatchState":"UPCOMING","isMultiDay":false,"matchSummaryText":"","liveStreams":[],"isLive":false,"currentInningId":0,"isMatchDrawn":false,"isMatchAbandoned":false,"startDateTime":"2019-06-16T09:30:00Z","endDateTime":"2019-06-16T17:30:00Z","isWomensMatch":false,"cmsMatchType":"ODI","cmsMatchAssociatedType":"ODI","cmsMatchVenueStartDateTime":"","cmsMatchVenueEndDateTime":"","gamedayStatus":"","isGamedayEnabled":false,"removeMatch":false},{"id":43666,"matchTypeId":0,"statisticsProvider":"Opta Sports","series":{"id":2181,"name":"ICC Mens ODI World Cup 2019","shortName":"ICC Mens Cricket World Cup 2019","shieldImageUrl":"https://www.cricket.com.au/-/media/Logos/Series/2019/series-CWC19.ashx"},"name":"Match 23","status":"UPCOMING","venue":{"name":"The County Ground, Taunton","location":"","latitude":"","longitude":"","antisocialPhoneNumber":""},"homeTeam":{"isBatting":false,"id":8,"name":"West Indies Men","shortName":"WI","logoUrl":"https://www.cricket.com.au/-/media/Logos/Teams/International/West%20Indies.ashx","backgroundImageUrl":"https://www.cricket.com.au/-/media/Logos/Teams/Team-Backgrounds/International/WI.ashx","teamColour":"#7B0043"},"awayTeam":{"isBatting":false,"id":10,"name":"Bangladesh Men","shortName":"BAN","logoUrl":"https://www.cricket.com.au/-/media/Logos/Teams/International/Bangladesh.ashx","backgroundImageUrl":"https://www.cricket.com.au/-/media/Logos/Teams/Team-Backgrounds/International/BAN.ashx","teamColour":"#006F55"},"currentMatchState":"UPCOMING","isMultiDay":false,"matchSummaryText":"","liveStreams":[],"isLive":false,"currentInningId":0,"isMatchDrawn":false,"isMatchAbandoned":false,"startDateTime":"2019-06-17T09:30:00Z","endDateTime":"2019-06-17T17:30:00Z","isWomensMatch":false,"cmsMatchType":"ODI","cmsMatchAssociatedType":"ODI","cmsMatchVenueStartDateTime":"","cmsMatchVenueEndDateTime":"","gamedayStatus":"","isGamedayEnabled":false,"removeMatch":false},{"id":43667,"matchTypeId":0,"statisticsProvider":"Opta Sports","series":{"id":2181,"name":"ICC Mens ODI World Cup 2019","shortName":"ICC Mens Cricket World Cup 2019","shieldImageUrl":"https://www.cricket.com.au/-/media/Logos/Series/2019/series-CWC19.ashx"},"name":"Match 24","status":"UPCOMING","venue":{"name":"The County Ground, Taunton","location":"","latitude":"","longitude":"","antisocialPhoneNumber":""},"homeTeam":{"isBatting":false,"id":2,"name":"England Men","shortName":"ENG","logoUrl":"https://www.cricket.com.au/-/media/Logos/Teams/International/Team-England-2.ashx","backgroundImageUrl":"https://www.cricket.com.au/-/media/Logos/Teams/Team-Backgrounds/International/ENG2.ashx","teamColour":"#E1131B"},"awayTeam":{"isBatting":false,"id":95,"name":"Afghanistan Men","shortName":"AFG","logoUrl":"https://www.cricket.com.au/-/media/Logos/Teams/International/Afghanistan.ashx","backgroundImageUrl":"https://www.cricket.com.au/-/media/AFG.ashx","teamColour":"#344DC3"},"currentMatchState":"UPCOMING","isMultiDay":false,"matchSummaryText":"","liveStreams":[],"isLive":false,"currentInningId":0,"isMatchDrawn":false,"isMatchAbandoned":false,"startDateTime":"2019-06-18T09:30:00Z","endDateTime":"2019-06-18T17:30:00Z","isWomensMatch":false,"cmsMatchType":"ODI","cmsMatchAssociatedType":"ODI","cmsMatchVenueStartDateTime":"","cmsMatchVenueEndDateTime":"","gamedayStatus":"","isGamedayEnabled":false,"removeMatch":false},{"id":43668,"matchTypeId":0,"statisticsProvider":"Opta Sports","series":{"id":2181,"name":"ICC Mens ODI World Cup 2019","shortName":"ICC Mens Cricket World Cup 2019","shieldImageUrl":"https://www.cricket.com.au/-/media/Logos/Series/2019/series-CWC19.ashx"},"name":"Match 25","status":"UPCOMING","venue":{"name":"Edgbaston, Birmingham","location":"","latitude":"","longitude":"","antisocialPhoneNumber":""},"homeTeam":{"isBatting":false,"id":4,"name":"New Zealand Men","shortName":"NZ","logoUrl":"https://www.cricket.com.au/-/media/Logos/Teams/International/New%20Zealand.ashx","backgroundImageUrl":"https://www.cricket.com.au/-/media/Logos/Teams/Team-Backgrounds/International/NZ2.ashx","teamColour":"#2A2A2A"},"awayTeam":{"isBatting":false,"id":6,"name":"South Africa Men","shortName":"SA","logoUrl":"https://www.cricket.com.au/-/media/Logos/Teams/International/South-Africa.ashx","backgroundImageUrl":"https://www.cricket.com.au/-/media/Logos/Teams/Team-Backgrounds/International/SA.ashx","teamColour":"#00A057"},"currentMatchState":"UPCOMING","isMultiDay":false,"matchSummaryText":"","liveStreams":[],"isLive":false,"currentInningId":0,"isMatchDrawn":false,"isMatchAbandoned":false,"startDateTime":"2019-06-19T09:30:00Z","endDateTime":"2019-06-19T17:30:00Z","isWomensMatch":false,"cmsMatchType":"ODI","cmsMatchAssociatedType":"ODI","cmsMatchVenueStartDateTime":"","cmsMatchVenueEndDateTime":"","gamedayStatus":"","isGamedayEnabled":false,"removeMatch":false},{"id":43669,"matchTypeId":0,"statisticsProvider":"Opta Sports","series":{"id":2181,"name":"ICC Mens ODI World Cup 2019","shortName":"ICC Mens Cricket World Cup 2019","shieldImageUrl":"https://www.cricket.com.au/-/media/Logos/Series/2019/series-CWC19.ashx"},"name":"Match 26","status":"UPCOMING","venue":{"name":"Trent Bridge, Nottingham","location":"","latitude":"","longitude":"","antisocialPhoneNumber":""},"homeTeam":{"isBatting":false,"id":1,"name":"Australia Men","shortName":"AUS","logoUrl":"https://www.cricket.com.au/-/media/Logos/Teams/International/Australia.ashx","backgroundImageUrl":"https://www.cricket.com.au/-/media/Logos/Teams/Team-Backgrounds/International/AUS.ashx","teamColour":"#0EAC00"},"awayTeam":{"isBatting":false,"id":10,"name":"Bangladesh Men","shortName":"BAN","logoUrl":"https://www.cricket.com.au/-/media/Logos/Teams/International/Bangladesh.ashx","backgroundImageUrl":"https://www.cricket.com.au/-/media/Logos/Teams/Team-Backgrounds/International/BAN.ashx","teamColour":"#006F55"},"currentMatchState":"UPCOMING","isMultiDay":false,"matchSummaryText":"","liveStreams":[],"isLive":false,"currentInningId":0,"isMatchDrawn":false,"isMatchAbandoned":false,"startDateTime":"2019-06-20T09:30:00Z","endDateTime":"2019-06-20T17:30:00Z","isWomensMatch":false,"cmsMatchType":"ODI","cmsMatchAssociatedType":"ODI","cmsMatchVenueStartDateTime":"","cmsMatchVenueEndDateTime":"","gamedayStatus":"","isGamedayEnabled":false,"removeMatch":false},{"id":44649,"matchTypeId":0,"statisticsProvider":"Opta Sports","series":{"id":2292,"name":"Australia A Tour of England - Mens","shortName":"Australia A in England 2019 Tour Matches","shieldImageUrl":"https://www.cricket.com.au/-/media/Logos/Series/2015/Series-Generic-International-new.ashx"},"name":"","status":"UPCOMING","venue":{"name":"The County Ground, Northampton","location":"","latitude":"","longitude":"","antisocialPhoneNumber":""},"homeTeam":{"isBatting":false,"id":53,"name":"Northamptonshire","shortName":"NOR","logoUrl":"https://www.cricket.com.au/-/media/Logos/Teams/Other/northants.ashx","teamColour":"#880139"},"awayTeam":{"isBatting":false,"id":156,"name":"Australia A Men","shortName":"AUS","logoUrl":"https://www.cricket.com.au/-/media/Logos/Teams/International/Australia.ashx","backgroundImageUrl":"https://www.cricket.com.au/-/media/Logos/Teams/Team-Backgrounds/International/australia.ashx","teamColour":"#0EAC00"},"currentMatchState":"UPCOMING","isMultiDay":false,"matchSummaryText":"","liveStreams":[],"isLive":false,"currentInningId":0,"isMatchDrawn":false,"isMatchAbandoned":false,"startDateTime":"2019-06-20T12:00:00Z","endDateTime":"2019-06-20T20:00:00Z","isWomensMatch":false,"cmsMatchType":"One-Day","cmsMatchAssociatedType":"ODI","cmsMatchVenueStartDateTime":"","cmsMatchVenueEndDateTime":"","gamedayStatus":"","isGamedayEnabled":false,"removeMatch":false}]},"status":200,"poweredBy":"dev132"}';
		final Map<String, String> responseHeaders = new Map<String, String>();
		responseHeaders.put('Content-Type', 'application/json');
		CRIC_HttpCalloutMock mock = new CRIC_HttpCalloutMock(
			'GET',
			200,
			'OK',
			responseBody,
			responseHeaders
		);

		Test.startTest();
		Test.setMock(HttpCalloutMock.class, mock);
		// When
		Date twelfthJune = Date.newInstance(2019, 6, 12);
		List<String> matchIds = CRIC_MatchHelper.getMatchIds(twelfthJune);
		Test.stopTest();
		// Then
		System.assert(!matchIds.isEmpty(), 'there should be a match id');
		System.assertEquals(
			'43660',
			matchIds[0],
			'should return the match id that happens today'
		);
	}

	@IsTest
	static void shouldReturnMatchIdsWhenThereAreMatchesToday() {
		// Given
		final String responseBody = '{"meta":{"upcomingMatchCount":10,"inProgressMatchCount":1,"completedMatchCount":5},"matchList":{"matches":[{"id":43660,"matchTypeId":0,"statisticsProvider":"Opta Sports","series":{"id":2181,"name":"ICC Mens ODI World Cup 2019","shortName":"ICC Mens Cricket World Cup 2019","shieldImageUrl":"https://www.cricket.com.au/-/media/Logos/Series/2019/series-CWC19.ashx"},"name":"Match 17","status":"LIVE","venue":{"name":"The County Ground, Taunton","location":"","latitude":"","longitude":"","antisocialPhoneNumber":""},"homeTeam":{"isBatting":false,"id":1,"name":"Australia Men","shortName":"AUS","logoUrl":"https://www.cricket.com.au/-/media/Logos/Teams/International/Australia.ashx","backgroundImageUrl":"https://www.cricket.com.au/-/media/Logos/Teams/Team-Backgrounds/International/AUS.ashx","teamColour":"#0EAC00"},"awayTeam":{"isBatting":true,"id":5,"name":"Pakistan Men","shortName":"PAK","logoUrl":"https://www.cricket.com.au/-/media/Logos/Teams/International/Team-Pakistan.ashx","backgroundImageUrl":"https://www.cricket.com.au/-/media/Logos/Teams/Team-Backgrounds/International/PAK.ashx","teamColour":"#004E00"},"currentMatchState":"Live","isMultiDay":false,"matchSummaryText":"Live: PAK need 308 runs off 300 balls","scores":{"homeScore":"307","homeOvers":"49.0","awayScore":"0-0","awayOvers":"0.0"},"liveStreams":[],"isLive":false,"currentInningId":2,"isMatchDrawn":false,"isMatchAbandoned":false,"startDateTime":"2019-06-12T09:30:00Z","endDateTime":"2019-06-12T17:30:00Z","isWomensMatch":false,"cmsMatchType":"ODI","cmsMatchAssociatedType":"ODI","cmsMatchVenueStartDateTime":"","cmsMatchVenueEndDateTime":"","gamedayStatus":"","isGamedayEnabled":false,"removeMatch":false},{"id":43659,"matchTypeId":0,"statisticsProvider":"Opta Sports","series":{"id":2181,"name":"ICC Mens ODI World Cup 2019","shortName":"ICC Mens Cricket World Cup 2019","shieldImageUrl":"https://www.cricket.com.au/-/media/Logos/Series/2019/series-CWC19.ashx"},"name":"Match 16","status":"COMPLETED","venue":{"name":"Bristol County Ground, Bristol","location":"","latitude":"","longitude":"","antisocialPhoneNumber":""},"homeTeam":{"isBatting":false,"id":10,"name":"Bangladesh Men","shortName":"BAN","logoUrl":"https://www.cricket.com.au/-/media/Logos/Teams/International/Bangladesh.ashx","backgroundImageUrl":"https://www.cricket.com.au/-/media/Logos/Teams/Team-Backgrounds/International/BAN.ashx","teamColour":"#006F55"},"awayTeam":{"isBatting":false,"id":7,"name":"Sri Lanka Men","shortName":"SL","logoUrl":"https://www.cricket.com.au/-/media/Logos/Teams/International/Sri%20Lanka.ashx","backgroundImageUrl":"https://www.cricket.com.au/-/media/Logos/Teams/Team-Backgrounds/International/SL.ashx","teamColour":"#082AA2"},"currentMatchState":"Match abandoned without a ball bowled","isMultiDay":false,"matchSummaryText":"Match abandoned without a ball bowled","scores":{"homeScore":"0-0","homeOvers":"0","awayScore":"0-0","awayOvers":"0"},"liveStreams":[],"isLive":false,"currentInningId":0,"isMatchDrawn":true,"isMatchAbandoned":false,"startDateTime":"2019-06-11T09:30:00Z","endDateTime":"2019-06-11T17:30:00Z","isWomensMatch":false,"cmsMatchType":"ODI","cmsMatchAssociatedType":"ODI","cmsMatchVenueStartDateTime":"","cmsMatchVenueEndDateTime":"","gamedayStatus":"","isGamedayEnabled":false,"removeMatch":false},{"id":43658,"matchTypeId":0,"statisticsProvider":"Opta Sports","series":{"id":2181,"name":"ICC Mens ODI World Cup 2019","shortName":"ICC Mens Cricket World Cup 2019","shieldImageUrl":"https://www.cricket.com.au/-/media/Logos/Series/2019/series-CWC19.ashx"},"name":"Match 15","status":"COMPLETED","venue":{"name":"The Rose Bowl, Southampton","location":"","latitude":"","longitude":"","antisocialPhoneNumber":""},"homeTeam":{"isBatting":true,"id":6,"name":"South Africa Men","shortName":"SA","logoUrl":"https://www.cricket.com.au/-/media/Logos/Teams/International/South-Africa.ashx","backgroundImageUrl":"https://www.cricket.com.au/-/media/Logos/Teams/Team-Backgrounds/International/SA.ashx","teamColour":"#00A057"},"awayTeam":{"isBatting":false,"id":8,"name":"West Indies Men","shortName":"WI","logoUrl":"https://www.cricket.com.au/-/media/Logos/Teams/International/West%20Indies.ashx","backgroundImageUrl":"https://www.cricket.com.au/-/media/Logos/Teams/Team-Backgrounds/International/WI.ashx","teamColour":"#7B0043"},"currentMatchState":"No Result","isMultiDay":false,"matchSummaryText":"No Result: SA 2-29","scores":{"homeScore":"2-29","homeOvers":"7.3","awayScore":"0-0","awayOvers":"0"},"liveStreams":[],"isLive":false,"currentInningId":1,"isMatchDrawn":true,"isMatchAbandoned":false,"startDateTime":"2019-06-10T09:30:00Z","endDateTime":"2019-06-10T17:30:00Z","isWomensMatch":false,"cmsMatchType":"ODI","cmsMatchAssociatedType":"ODI","cmsMatchVenueStartDateTime":"","cmsMatchVenueEndDateTime":"","gamedayStatus":"","isGamedayEnabled":false,"removeMatch":false},{"id":43657,"matchTypeId":0,"statisticsProvider":"Opta Sports","series":{"id":2181,"name":"ICC Mens ODI World Cup 2019","shortName":"ICC Mens Cricket World Cup 2019","shieldImageUrl":"https://www.cricket.com.au/-/media/Logos/Series/2019/series-CWC19.ashx"},"name":"Match 14","status":"COMPLETED","venue":{"name":"The Oval, London","location":"","latitude":"","longitude":"","antisocialPhoneNumber":""},"homeTeam":{"isBatting":false,"id":3,"name":"India Men","shortName":"IND","logoUrl":"https://www.cricket.com.au/-/media/Logos/Teams/International/India.ashx","backgroundImageUrl":"https://www.cricket.com.au/-/media/Logos/Teams/Team-Backgrounds/International/IND.ashx","teamColour":"#008CCC"},"awayTeam":{"isBatting":true,"id":1,"name":"Australia Men","shortName":"AUS","logoUrl":"https://www.cricket.com.au/-/media/Logos/Teams/International/Australia.ashx","backgroundImageUrl":"https://www.cricket.com.au/-/media/Logos/Teams/Team-Backgrounds/International/AUS.ashx","teamColour":"#0EAC00"},"currentMatchState":"India win by 36 runs","isMultiDay":false,"matchSummaryText":"India win by 36 runs","scores":{"homeScore":"5-352","homeOvers":"50.0","awayScore":"316","awayOvers":"50.0"},"liveStreams":[],"isLive":false,"currentInningId":2,"isMatchDrawn":false,"isMatchAbandoned":false,"winningTeamId":3,"startDateTime":"2019-06-09T09:30:00Z","endDateTime":"2019-06-09T17:30:00Z","isWomensMatch":false,"cmsMatchType":"ODI","cmsMatchAssociatedType":"ODI","cmsMatchVenueStartDateTime":"","cmsMatchVenueEndDateTime":"","gamedayStatus":"","isGamedayEnabled":false,"removeMatch":false},{"id":43656,"matchTypeId":0,"statisticsProvider":"Opta Sports","series":{"id":2181,"name":"ICC Mens ODI World Cup 2019","shortName":"ICC Mens Cricket World Cup 2019","shieldImageUrl":"https://www.cricket.com.au/-/media/Logos/Series/2019/series-CWC19.ashx"},"name":"Match 13","status":"COMPLETED","venue":{"name":"The County Ground, Taunton","location":"","latitude":"","longitude":"","antisocialPhoneNumber":""},"homeTeam":{"isBatting":false,"id":95,"name":"Afghanistan Men","shortName":"AFG","logoUrl":"https://www.cricket.com.au/-/media/Logos/Teams/International/Afghanistan.ashx","backgroundImageUrl":"https://www.cricket.com.au/-/media/AFG.ashx","teamColour":"#344DC3"},"awayTeam":{"isBatting":true,"id":4,"name":"New Zealand Men","shortName":"NZ","logoUrl":"https://www.cricket.com.au/-/media/Logos/Teams/International/New%20Zealand.ashx","backgroundImageUrl":"https://www.cricket.com.au/-/media/Logos/Teams/Team-Backgrounds/International/NZ2.ashx","teamColour":"#2A2A2A"},"currentMatchState":"New Zealand win by 7 wickets","isMultiDay":false,"matchSummaryText":"New Zealand win by 7 wickets","scores":{"homeScore":"172","homeOvers":"41.1","awayScore":"3-173","awayOvers":"32.1"},"liveStreams":[],"isLive":false,"currentInningId":2,"isMatchDrawn":false,"isMatchAbandoned":false,"winningTeamId":4,"startDateTime":"2019-06-08T12:30:00Z","endDateTime":"2019-06-08T20:30:00Z","isWomensMatch":false,"cmsMatchType":"ODI","cmsMatchAssociatedType":"ODI","cmsMatchVenueStartDateTime":"","cmsMatchVenueEndDateTime":"","gamedayStatus":"","isGamedayEnabled":false,"removeMatch":false},{"id":43655,"matchTypeId":0,"statisticsProvider":"Opta Sports","series":{"id":2181,"name":"ICC Mens ODI World Cup 2019","shortName":"ICC Mens Cricket World Cup 2019","shieldImageUrl":"https://www.cricket.com.au/-/media/Logos/Series/2019/series-CWC19.ashx"},"name":"Match 12","status":"COMPLETED","venue":{"name":"Sophia Gardens, Cardiff","location":"","latitude":"","longitude":"","antisocialPhoneNumber":""},"homeTeam":{"isBatting":false,"id":2,"name":"England Men","shortName":"ENG","logoUrl":"https://www.cricket.com.au/-/media/Logos/Teams/International/Team-England-2.ashx","backgroundImageUrl":"https://www.cricket.com.au/-/media/Logos/Teams/Team-Backgrounds/International/ENG2.ashx","teamColour":"#E1131B"},"awayTeam":{"isBatting":true,"id":10,"name":"Bangladesh Men","shortName":"BAN","logoUrl":"https://www.cricket.com.au/-/media/Logos/Teams/International/Bangladesh.ashx","backgroundImageUrl":"https://www.cricket.com.au/-/media/Logos/Teams/Team-Backgrounds/International/BAN.ashx","teamColour":"#006F55"},"currentMatchState":"England win by 106 runs","isMultiDay":false,"matchSummaryText":"England win by 106 runs","scores":{"homeScore":"6-386","homeOvers":"50.0","awayScore":"280","awayOvers":"48.5"},"liveStreams":[],"isLive":false,"currentInningId":2,"isMatchDrawn":false,"isMatchAbandoned":false,"winningTeamId":2,"startDateTime":"2019-06-08T09:30:00Z","endDateTime":"2019-06-08T17:30:00Z","isWomensMatch":false,"cmsMatchType":"ODI","cmsMatchAssociatedType":"ODI","cmsMatchVenueStartDateTime":"","cmsMatchVenueEndDateTime":"","gamedayStatus":"","isGamedayEnabled":false,"removeMatch":false},{"id":43661,"matchTypeId":0,"statisticsProvider":"Opta Sports","series":{"id":2181,"name":"ICC Mens ODI World Cup 2019","shortName":"ICC Mens Cricket World Cup 2019","shieldImageUrl":"https://www.cricket.com.au/-/media/Logos/Series/2019/series-CWC19.ashx"},"name":"Match 18","status":"UPCOMING","venue":{"name":"Trent Bridge, Nottingham","location":"","latitude":"","longitude":"","antisocialPhoneNumber":""},"homeTeam":{"isBatting":false,"id":3,"name":"India Men","shortName":"IND","logoUrl":"https://www.cricket.com.au/-/media/Logos/Teams/International/India.ashx","backgroundImageUrl":"https://www.cricket.com.au/-/media/Logos/Teams/Team-Backgrounds/International/IND.ashx","teamColour":"#008CCC"},"awayTeam":{"isBatting":false,"id":4,"name":"New Zealand Men","shortName":"NZ","logoUrl":"https://www.cricket.com.au/-/media/Logos/Teams/International/New%20Zealand.ashx","backgroundImageUrl":"https://www.cricket.com.au/-/media/Logos/Teams/Team-Backgrounds/International/NZ2.ashx","teamColour":"#2A2A2A"},"currentMatchState":"UPCOMING","isMultiDay":false,"matchSummaryText":"Teams will be announced at the toss","liveStreams":[],"isLive":false,"currentInningId":0,"isMatchDrawn":false,"isMatchAbandoned":false,"startDateTime":"2019-06-12T09:30:00Z","endDateTime":"2019-06-12T17:30:00Z","isWomensMatch":false,"cmsMatchType":"ODI","cmsMatchAssociatedType":"ODI","cmsMatchVenueStartDateTime":"","cmsMatchVenueEndDateTime":"","gamedayStatus":"","isGamedayEnabled":false,"removeMatch":false},{"id":43662,"matchTypeId":0,"statisticsProvider":"Opta Sports","series":{"id":2181,"name":"ICC Mens ODI World Cup 2019","shortName":"ICC Mens Cricket World Cup 2019","shieldImageUrl":"https://www.cricket.com.au/-/media/Logos/Series/2019/series-CWC19.ashx"},"name":"Match 19","status":"UPCOMING","venue":{"name":"The Rose Bowl, Southampton","location":"","latitude":"","longitude":"","antisocialPhoneNumber":""},"homeTeam":{"isBatting":false,"id":2,"name":"England Men","shortName":"ENG","logoUrl":"https://www.cricket.com.au/-/media/Logos/Teams/International/Team-England-2.ashx","backgroundImageUrl":"https://www.cricket.com.au/-/media/Logos/Teams/Team-Backgrounds/International/ENG2.ashx","teamColour":"#E1131B"},"awayTeam":{"isBatting":false,"id":8,"name":"West Indies Men","shortName":"WI","logoUrl":"https://www.cricket.com.au/-/media/Logos/Teams/International/West%20Indies.ashx","backgroundImageUrl":"https://www.cricket.com.au/-/media/Logos/Teams/Team-Backgrounds/International/WI.ashx","teamColour":"#7B0043"},"currentMatchState":"UPCOMING","isMultiDay":false,"matchSummaryText":"Teams will be announced at the toss","liveStreams":[],"isLive":false,"currentInningId":0,"isMatchDrawn":false,"isMatchAbandoned":false,"startDateTime":"2019-06-14T09:30:00Z","endDateTime":"2019-06-14T17:30:00Z","isWomensMatch":false,"cmsMatchType":"ODI","cmsMatchAssociatedType":"ODI","cmsMatchVenueStartDateTime":"","cmsMatchVenueEndDateTime":"","gamedayStatus":"","isGamedayEnabled":false,"removeMatch":false},{"id":43664,"matchTypeId":0,"statisticsProvider":"Opta Sports","series":{"id":2181,"name":"ICC Mens ODI World Cup 2019","shortName":"ICC Mens Cricket World Cup 2019","shieldImageUrl":"https://www.cricket.com.au/-/media/Logos/Series/2019/series-CWC19.ashx"},"name":"Match 20","status":"UPCOMING","venue":{"name":"The Oval, London","location":"","latitude":"","longitude":"","antisocialPhoneNumber":""},"homeTeam":{"isBatting":false,"id":7,"name":"Sri Lanka Men","shortName":"SL","logoUrl":"https://www.cricket.com.au/-/media/Logos/Teams/International/Sri%20Lanka.ashx","backgroundImageUrl":"https://www.cricket.com.au/-/media/Logos/Teams/Team-Backgrounds/International/SL.ashx","teamColour":"#082AA2"},"awayTeam":{"isBatting":false,"id":1,"name":"Australia Men","shortName":"AUS","logoUrl":"https://www.cricket.com.au/-/media/Logos/Teams/International/Australia.ashx","backgroundImageUrl":"https://www.cricket.com.au/-/media/Logos/Teams/Team-Backgrounds/International/AUS.ashx","teamColour":"#0EAC00"},"currentMatchState":"UPCOMING","isMultiDay":false,"matchSummaryText":"","liveStreams":[],"isLive":false,"currentInningId":0,"isMatchDrawn":false,"isMatchAbandoned":false,"startDateTime":"2019-06-15T09:30:00Z","endDateTime":"2019-06-15T17:30:00Z","isWomensMatch":false,"cmsMatchType":"ODI","cmsMatchAssociatedType":"ODI","cmsMatchVenueStartDateTime":"","cmsMatchVenueEndDateTime":"","gamedayStatus":"","isGamedayEnabled":false,"removeMatch":false},{"id":43663,"matchTypeId":0,"statisticsProvider":"Opta Sports","series":{"id":2181,"name":"ICC Mens ODI World Cup 2019","shortName":"ICC Mens Cricket World Cup 2019","shieldImageUrl":"https://www.cricket.com.au/-/media/Logos/Series/2019/series-CWC19.ashx"},"name":"Match 21","status":"UPCOMING","venue":{"name":"Sophia Gardens, Cardiff","location":"","latitude":"","longitude":"","antisocialPhoneNumber":""},"homeTeam":{"isBatting":false,"id":6,"name":"South Africa Men","shortName":"SA","logoUrl":"https://www.cricket.com.au/-/media/Logos/Teams/International/South-Africa.ashx","backgroundImageUrl":"https://www.cricket.com.au/-/media/Logos/Teams/Team-Backgrounds/International/SA.ashx","teamColour":"#00A057"},"awayTeam":{"isBatting":false,"id":95,"name":"Afghanistan Men","shortName":"AFG","logoUrl":"https://www.cricket.com.au/-/media/Logos/Teams/International/Afghanistan.ashx","backgroundImageUrl":"https://www.cricket.com.au/-/media/AFG.ashx","teamColour":"#344DC3"},"currentMatchState":"UPCOMING","isMultiDay":false,"matchSummaryText":"","liveStreams":[],"isLive":false,"currentInningId":0,"isMatchDrawn":false,"isMatchAbandoned":false,"startDateTime":"2019-06-15T12:30:00Z","endDateTime":"2019-06-15T20:30:00Z","isWomensMatch":false,"cmsMatchType":"ODI","cmsMatchAssociatedType":"ODI","cmsMatchVenueStartDateTime":"","cmsMatchVenueEndDateTime":"","gamedayStatus":"","isGamedayEnabled":false,"removeMatch":false},{"id":43665,"matchTypeId":0,"statisticsProvider":"Opta Sports","series":{"id":2181,"name":"ICC Mens ODI World Cup 2019","shortName":"ICC Mens Cricket World Cup 2019","shieldImageUrl":"https://www.cricket.com.au/-/media/Logos/Series/2019/series-CWC19.ashx"},"name":"Match 22","status":"UPCOMING","venue":{"name":"Old Trafford, Manchester","location":"","latitude":"","longitude":"","antisocialPhoneNumber":""},"homeTeam":{"isBatting":false,"id":3,"name":"India Men","shortName":"IND","logoUrl":"https://www.cricket.com.au/-/media/Logos/Teams/International/India.ashx","backgroundImageUrl":"https://www.cricket.com.au/-/media/Logos/Teams/Team-Backgrounds/International/IND.ashx","teamColour":"#008CCC"},"awayTeam":{"isBatting":false,"id":5,"name":"Pakistan Men","shortName":"PAK","logoUrl":"https://www.cricket.com.au/-/media/Logos/Teams/International/Team-Pakistan.ashx","backgroundImageUrl":"https://www.cricket.com.au/-/media/Logos/Teams/Team-Backgrounds/International/PAK.ashx","teamColour":"#004E00"},"currentMatchState":"UPCOMING","isMultiDay":false,"matchSummaryText":"","liveStreams":[],"isLive":false,"currentInningId":0,"isMatchDrawn":false,"isMatchAbandoned":false,"startDateTime":"2019-06-16T09:30:00Z","endDateTime":"2019-06-16T17:30:00Z","isWomensMatch":false,"cmsMatchType":"ODI","cmsMatchAssociatedType":"ODI","cmsMatchVenueStartDateTime":"","cmsMatchVenueEndDateTime":"","gamedayStatus":"","isGamedayEnabled":false,"removeMatch":false},{"id":43666,"matchTypeId":0,"statisticsProvider":"Opta Sports","series":{"id":2181,"name":"ICC Mens ODI World Cup 2019","shortName":"ICC Mens Cricket World Cup 2019","shieldImageUrl":"https://www.cricket.com.au/-/media/Logos/Series/2019/series-CWC19.ashx"},"name":"Match 23","status":"UPCOMING","venue":{"name":"The County Ground, Taunton","location":"","latitude":"","longitude":"","antisocialPhoneNumber":""},"homeTeam":{"isBatting":false,"id":8,"name":"West Indies Men","shortName":"WI","logoUrl":"https://www.cricket.com.au/-/media/Logos/Teams/International/West%20Indies.ashx","backgroundImageUrl":"https://www.cricket.com.au/-/media/Logos/Teams/Team-Backgrounds/International/WI.ashx","teamColour":"#7B0043"},"awayTeam":{"isBatting":false,"id":10,"name":"Bangladesh Men","shortName":"BAN","logoUrl":"https://www.cricket.com.au/-/media/Logos/Teams/International/Bangladesh.ashx","backgroundImageUrl":"https://www.cricket.com.au/-/media/Logos/Teams/Team-Backgrounds/International/BAN.ashx","teamColour":"#006F55"},"currentMatchState":"UPCOMING","isMultiDay":false,"matchSummaryText":"","liveStreams":[],"isLive":false,"currentInningId":0,"isMatchDrawn":false,"isMatchAbandoned":false,"startDateTime":"2019-06-17T09:30:00Z","endDateTime":"2019-06-17T17:30:00Z","isWomensMatch":false,"cmsMatchType":"ODI","cmsMatchAssociatedType":"ODI","cmsMatchVenueStartDateTime":"","cmsMatchVenueEndDateTime":"","gamedayStatus":"","isGamedayEnabled":false,"removeMatch":false},{"id":43667,"matchTypeId":0,"statisticsProvider":"Opta Sports","series":{"id":2181,"name":"ICC Mens ODI World Cup 2019","shortName":"ICC Mens Cricket World Cup 2019","shieldImageUrl":"https://www.cricket.com.au/-/media/Logos/Series/2019/series-CWC19.ashx"},"name":"Match 24","status":"UPCOMING","venue":{"name":"The County Ground, Taunton","location":"","latitude":"","longitude":"","antisocialPhoneNumber":""},"homeTeam":{"isBatting":false,"id":2,"name":"England Men","shortName":"ENG","logoUrl":"https://www.cricket.com.au/-/media/Logos/Teams/International/Team-England-2.ashx","backgroundImageUrl":"https://www.cricket.com.au/-/media/Logos/Teams/Team-Backgrounds/International/ENG2.ashx","teamColour":"#E1131B"},"awayTeam":{"isBatting":false,"id":95,"name":"Afghanistan Men","shortName":"AFG","logoUrl":"https://www.cricket.com.au/-/media/Logos/Teams/International/Afghanistan.ashx","backgroundImageUrl":"https://www.cricket.com.au/-/media/AFG.ashx","teamColour":"#344DC3"},"currentMatchState":"UPCOMING","isMultiDay":false,"matchSummaryText":"","liveStreams":[],"isLive":false,"currentInningId":0,"isMatchDrawn":false,"isMatchAbandoned":false,"startDateTime":"2019-06-18T09:30:00Z","endDateTime":"2019-06-18T17:30:00Z","isWomensMatch":false,"cmsMatchType":"ODI","cmsMatchAssociatedType":"ODI","cmsMatchVenueStartDateTime":"","cmsMatchVenueEndDateTime":"","gamedayStatus":"","isGamedayEnabled":false,"removeMatch":false},{"id":43668,"matchTypeId":0,"statisticsProvider":"Opta Sports","series":{"id":2181,"name":"ICC Mens ODI World Cup 2019","shortName":"ICC Mens Cricket World Cup 2019","shieldImageUrl":"https://www.cricket.com.au/-/media/Logos/Series/2019/series-CWC19.ashx"},"name":"Match 25","status":"UPCOMING","venue":{"name":"Edgbaston, Birmingham","location":"","latitude":"","longitude":"","antisocialPhoneNumber":""},"homeTeam":{"isBatting":false,"id":4,"name":"New Zealand Men","shortName":"NZ","logoUrl":"https://www.cricket.com.au/-/media/Logos/Teams/International/New%20Zealand.ashx","backgroundImageUrl":"https://www.cricket.com.au/-/media/Logos/Teams/Team-Backgrounds/International/NZ2.ashx","teamColour":"#2A2A2A"},"awayTeam":{"isBatting":false,"id":6,"name":"South Africa Men","shortName":"SA","logoUrl":"https://www.cricket.com.au/-/media/Logos/Teams/International/South-Africa.ashx","backgroundImageUrl":"https://www.cricket.com.au/-/media/Logos/Teams/Team-Backgrounds/International/SA.ashx","teamColour":"#00A057"},"currentMatchState":"UPCOMING","isMultiDay":false,"matchSummaryText":"","liveStreams":[],"isLive":false,"currentInningId":0,"isMatchDrawn":false,"isMatchAbandoned":false,"startDateTime":"2019-06-19T09:30:00Z","endDateTime":"2019-06-19T17:30:00Z","isWomensMatch":false,"cmsMatchType":"ODI","cmsMatchAssociatedType":"ODI","cmsMatchVenueStartDateTime":"","cmsMatchVenueEndDateTime":"","gamedayStatus":"","isGamedayEnabled":false,"removeMatch":false},{"id":43669,"matchTypeId":0,"statisticsProvider":"Opta Sports","series":{"id":2181,"name":"ICC Mens ODI World Cup 2019","shortName":"ICC Mens Cricket World Cup 2019","shieldImageUrl":"https://www.cricket.com.au/-/media/Logos/Series/2019/series-CWC19.ashx"},"name":"Match 26","status":"UPCOMING","venue":{"name":"Trent Bridge, Nottingham","location":"","latitude":"","longitude":"","antisocialPhoneNumber":""},"homeTeam":{"isBatting":false,"id":1,"name":"Australia Men","shortName":"AUS","logoUrl":"https://www.cricket.com.au/-/media/Logos/Teams/International/Australia.ashx","backgroundImageUrl":"https://www.cricket.com.au/-/media/Logos/Teams/Team-Backgrounds/International/AUS.ashx","teamColour":"#0EAC00"},"awayTeam":{"isBatting":false,"id":10,"name":"Bangladesh Men","shortName":"BAN","logoUrl":"https://www.cricket.com.au/-/media/Logos/Teams/International/Bangladesh.ashx","backgroundImageUrl":"https://www.cricket.com.au/-/media/Logos/Teams/Team-Backgrounds/International/BAN.ashx","teamColour":"#006F55"},"currentMatchState":"UPCOMING","isMultiDay":false,"matchSummaryText":"","liveStreams":[],"isLive":false,"currentInningId":0,"isMatchDrawn":false,"isMatchAbandoned":false,"startDateTime":"2019-06-20T09:30:00Z","endDateTime":"2019-06-20T17:30:00Z","isWomensMatch":false,"cmsMatchType":"ODI","cmsMatchAssociatedType":"ODI","cmsMatchVenueStartDateTime":"","cmsMatchVenueEndDateTime":"","gamedayStatus":"","isGamedayEnabled":false,"removeMatch":false},{"id":44649,"matchTypeId":0,"statisticsProvider":"Opta Sports","series":{"id":2292,"name":"Australia A Tour of England - Mens","shortName":"Australia A in England 2019 Tour Matches","shieldImageUrl":"https://www.cricket.com.au/-/media/Logos/Series/2015/Series-Generic-International-new.ashx"},"name":"","status":"UPCOMING","venue":{"name":"The County Ground, Northampton","location":"","latitude":"","longitude":"","antisocialPhoneNumber":""},"homeTeam":{"isBatting":false,"id":53,"name":"Northamptonshire","shortName":"NOR","logoUrl":"https://www.cricket.com.au/-/media/Logos/Teams/Other/northants.ashx","teamColour":"#880139"},"awayTeam":{"isBatting":false,"id":156,"name":"Australia A Men","shortName":"AUS","logoUrl":"https://www.cricket.com.au/-/media/Logos/Teams/International/Australia.ashx","backgroundImageUrl":"https://www.cricket.com.au/-/media/Logos/Teams/Team-Backgrounds/International/australia.ashx","teamColour":"#0EAC00"},"currentMatchState":"UPCOMING","isMultiDay":false,"matchSummaryText":"","liveStreams":[],"isLive":false,"currentInningId":0,"isMatchDrawn":false,"isMatchAbandoned":false,"startDateTime":"2019-06-20T12:00:00Z","endDateTime":"2019-06-20T20:00:00Z","isWomensMatch":false,"cmsMatchType":"One-Day","cmsMatchAssociatedType":"ODI","cmsMatchVenueStartDateTime":"","cmsMatchVenueEndDateTime":"","gamedayStatus":"","isGamedayEnabled":false,"removeMatch":false}]},"status":200,"poweredBy":"dev132"}';
		final Map<String, String> responseHeaders = new Map<String, String>();
		responseHeaders.put('Content-Type', 'application/json');
		CRIC_HttpCalloutMock mock = new CRIC_HttpCalloutMock(
			'GET',
			200,
			'OK',
			responseBody,
			responseHeaders
		);

		Test.startTest();
		Test.setMock(HttpCalloutMock.class, mock);
		// When
		Date twelfthJune = Date.newInstance(2019, 6, 12);
		List<String> matchIds = CRIC_MatchHelper.getMatchIds(twelfthJune);
		Test.stopTest();
		// Then
		System.assert(!matchIds.isEmpty(), 'there should be matches today');
		System.assertEquals(
			'43660',
			matchIds[0],
			'should return both match ids'
		);
		System.assertEquals(
			'43661',
			matchIds[1],
			'should return both match ids'
		);
	}
}
